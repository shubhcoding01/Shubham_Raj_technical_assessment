{"ast":null,"code":"var _jsxFileName = \"E:\\\\Shubham_Raj_technical_assessment\\\\frontend\\\\src\\\\ui.js\",\n  _s = $RefreshSig$();\n// ui.js\n// Displays the drag-and-drop UI\n// --------------------------------------------------\n\nimport { useState, useRef, useCallback } from 'react';\nimport ReactFlow, { Controls, Background, MiniMap } from 'reactflow';\nimport { useStore } from './store';\nimport { shallow } from 'zustand/shallow';\nimport TextNode from './nodes/TextNode.jsx';\nimport { InputNode } from './nodes/InputNode.jsx';\nimport { OutputNode } from './nodes/OutputNode.jsx';\nimport { LLMNode } from './nodes/LLMNode.jsx';\nimport 'reactflow/dist/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst gridSize = 20;\nconst proOptions = {\n  hideAttribution: true\n};\nconst nodeTypes = {\n  customInput: InputNode,\n  llm: LLMNode,\n  customOutput: OutputNode,\n  text: TextNode\n};\nconst selector = state => ({\n  nodes: state.nodes,\n  edges: state.edges,\n  getNodeID: state.getNodeID,\n  addNode: state.addNode,\n  onNodesChange: state.onNodesChange,\n  onEdgesChange: state.onEdgesChange,\n  onConnect: state.onConnect\n});\nexport const PipelineUI = () => {\n  _s();\n  const reactFlowWrapper = useRef(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const {\n    nodes,\n    edges,\n    getNodeID,\n    addNode,\n    onNodesChange,\n    onEdgesChange,\n    onConnect\n  } = useStore(selector, shallow);\n  const getInitNodeData = (nodeID, type) => ({\n    id: nodeID,\n    nodeType: type\n  });\n  const onDrop = useCallback(event => {\n    event.preventDefault();\n    const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n    const data = event.dataTransfer.getData('application/reactflow');\n    if (!data) return;\n    const {\n      nodeType: type\n    } = JSON.parse(data);\n    if (!type) return;\n    const position = reactFlowInstance.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top\n    });\n    const nodeID = getNodeID(type);\n    const newNode = {\n      id: nodeID,\n      type,\n      position,\n      data: getInitNodeData(nodeID, type)\n    };\n    addNode(newNode);\n  }, [reactFlowInstance, getNodeID, addNode]);\n  const onDragOver = useCallback(event => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: reactFlowWrapper,\n    style: {\n      width: '100vw',\n      height: '70vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      onDrop: onDrop,\n      onDragOver: onDragOver,\n      onInit: setReactFlowInstance,\n      nodeTypes: nodeTypes,\n      proOptions: proOptions,\n      snapGrid: [gridSize, gridSize],\n      connectionLineType: \"smoothstep\",\n      children: [/*#__PURE__*/_jsxDEV(Background, {\n        color: \"#aaa\",\n        gap: gridSize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(PipelineUI, \"h1WzQvpnWrheoVUBQOslWqW8+CY=\", false, function () {\n  return [useStore];\n});\n_c = PipelineUI;\nvar _c;\n$RefreshReg$(_c, \"PipelineUI\");","map":{"version":3,"names":["useState","useRef","useCallback","ReactFlow","Controls","Background","MiniMap","useStore","shallow","TextNode","InputNode","OutputNode","LLMNode","jsxDEV","_jsxDEV","gridSize","proOptions","hideAttribution","nodeTypes","customInput","llm","customOutput","text","selector","state","nodes","edges","getNodeID","addNode","onNodesChange","onEdgesChange","onConnect","PipelineUI","_s","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","getInitNodeData","nodeID","type","id","nodeType","onDrop","event","preventDefault","reactFlowBounds","current","getBoundingClientRect","data","dataTransfer","getData","JSON","parse","position","project","x","clientX","left","y","clientY","top","newNode","onDragOver","dropEffect","ref","style","width","height","children","onInit","snapGrid","connectionLineType","color","gap","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Shubham_Raj_technical_assessment/frontend/src/ui.js"],"sourcesContent":["// ui.js\n// Displays the drag-and-drop UI\n// --------------------------------------------------\n\nimport { useState, useRef, useCallback } from 'react';\nimport ReactFlow, {\n  Controls,\n  Background,\n  MiniMap,\n} from 'reactflow';\nimport { useStore } from './store';\nimport { shallow } from 'zustand/shallow';\nimport TextNode from './nodes/TextNode.jsx';\nimport {InputNode} from './nodes/InputNode.jsx';\nimport {OutputNode} from './nodes/OutputNode.jsx';\nimport {LLMNode }from './nodes/LLMNode.jsx';\n\n\nimport 'reactflow/dist/style.css';\n\nconst gridSize = 20;\nconst proOptions = { hideAttribution: true };\n\nconst nodeTypes = {\n  customInput: InputNode,\n  llm: LLMNode,\n  customOutput: OutputNode,\n  text: TextNode,\n};\n\nconst selector = (state) => ({\n  nodes: state.nodes,\n  edges: state.edges,\n  getNodeID: state.getNodeID,\n  addNode: state.addNode,\n  onNodesChange: state.onNodesChange,\n  onEdgesChange: state.onEdgesChange,\n  onConnect: state.onConnect,\n});\n\nexport const PipelineUI = () => {\n  const reactFlowWrapper = useRef(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n\n  const {\n    nodes,\n    edges,\n    getNodeID,\n    addNode,\n    onNodesChange,\n    onEdgesChange,\n    onConnect,\n  } = useStore(selector, shallow);\n\n  const getInitNodeData = (nodeID, type) => ({\n    id: nodeID,\n    nodeType: type,\n  });\n\n  const onDrop = useCallback(\n    (event) => {\n      event.preventDefault();\n      const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n      const data = event.dataTransfer.getData('application/reactflow');\n\n      if (!data) return;\n\n      const { nodeType: type } = JSON.parse(data);\n      if (!type) return;\n\n      const position = reactFlowInstance.project({\n        x: event.clientX - reactFlowBounds.left,\n        y: event.clientY - reactFlowBounds.top,\n      });\n\n      const nodeID = getNodeID(type);\n      const newNode = {\n        id: nodeID,\n        type,\n        position,\n        data: getInitNodeData(nodeID, type),\n      };\n\n      addNode(newNode);\n    },\n    [reactFlowInstance, getNodeID, addNode]\n  );\n\n  const onDragOver = useCallback((event) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n\n  return (\n    <div ref={reactFlowWrapper} style={{ width: '100vw', height: '70vh' }}>\n      <ReactFlow\n        nodes={nodes}\n        edges={edges}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        onConnect={onConnect}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onInit={setReactFlowInstance}\n        nodeTypes={nodeTypes}\n        proOptions={proOptions}\n        snapGrid={[gridSize, gridSize]}\n        connectionLineType=\"smoothstep\"\n      >\n        <Background color=\"#aaa\" gap={gridSize} />\n        <Controls />\n        <MiniMap />\n      </ReactFlow>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}