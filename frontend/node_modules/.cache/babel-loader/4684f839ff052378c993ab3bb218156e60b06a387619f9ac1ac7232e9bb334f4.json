{"ast":null,"code":"var _jsxFileName = \"E:\\\\Shubham_Raj_technical_assessment\\\\frontend\\\\src\\\\nodes\\\\TextNode.jsx\",\n  _s = $RefreshSig$();\n// nodes/TextNode.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Position, Handle } from 'reactflow';\nimport BaseNode from '../components/BaseNode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || '{{input}}');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n\n  // Resize textarea dynamically\n  useEffect(() => {\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = 'auto';\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  }, [currText]);\n\n  // Detect variables like {{name}} and update handles\n  useEffect(() => {\n    const regex = /{{\\s*([a-zA-Z_]\\w*)\\s*}}/g;\n    const matches = new Set();\n    let match;\n    while ((match = regex.exec(currText)) !== null) {\n      matches.add(match[1]);\n    }\n    setVariables([...matches]);\n  }, [currText]);\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    title: \"Text\",\n    className: \"bg-gray-800 text-white\",\n    handles: [{\n      type: 'source',\n      position: Position.Right,\n      id: `${id}-output`\n    }, ...variables.map((v, idx) => ({\n      type: 'target',\n      position: Position.Left,\n      id: `${id}-${v}`,\n      style: {\n        top: `${(idx + 1) * 25}px`\n      }\n    }))],\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm text-white mb-1\",\n      children: [\"Text:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textAreaRef,\n        value: currText,\n        onChange: e => setCurrText(e.target.value),\n        placeholder: \"Write text with {{variables}}\",\n        className: \"w-full bg-slate-700 text-white rounded p-2 resize-none mt-1 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500\",\n        rows: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"5QnWEwHHNG6yVzQxXTtutxn9IzY=\");\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Position","Handle","BaseNode","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","variables","setVariables","textAreaRef","current","style","height","scrollHeight","regex","matches","Set","match","exec","add","title","className","handles","type","position","Right","map","v","idx","Left","top","children","ref","value","onChange","e","target","placeholder","rows","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Shubham_Raj_technical_assessment/frontend/src/nodes/TextNode.jsx"],"sourcesContent":["// nodes/TextNode.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Position, Handle } from 'reactflow';\nimport BaseNode from '../components/BaseNode';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '{{input}}');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n\n  // Resize textarea dynamically\n  useEffect(() => {\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = 'auto';\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  }, [currText]);\n\n  // Detect variables like {{name}} and update handles\n  useEffect(() => {\n    const regex = /{{\\s*([a-zA-Z_]\\w*)\\s*}}/g;\n    const matches = new Set();\n    let match;\n\n    while ((match = regex.exec(currText)) !== null) {\n      matches.add(match[1]);\n    }\n\n    setVariables([...matches]);\n  }, [currText]);\n\n  return (\n    <BaseNode\n      id={id}\n      title=\"Text\"\n      className=\"bg-gray-800 text-white\"\n      handles={[\n        { type: 'source', position: Position.Right, id: `${id}-output` },\n        ...variables.map((v, idx) => ({\n          type: 'target',\n          position: Position.Left,\n          id: `${id}-${v}`,\n          style: { top: `${(idx + 1) * 25}px` }\n        })),\n      ]}\n    >\n      <label className=\"block text-sm text-white mb-1\">\n        Text:\n        <textarea\n          ref={textAreaRef}\n          value={currText}\n          onChange={(e) => setCurrText(e.target.value)}\n          placeholder=\"Write text with {{variables}}\"\n          className=\"w-full bg-slate-700 text-white rounded p-2 resize-none mt-1 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          rows={1}\n        />\n      </label>\n    </BaseNode>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}